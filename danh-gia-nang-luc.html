<!DOCTYPE html>

<html class="light" lang="vi">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Form Đánh Giá Năng Lực</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#195de6",
                        "background-light": "#f6f6f8",
                        "background-dark": "#111621",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
    <script src="assessment-form.js"></script>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200"
    data-page="danh-gia-nang-luc">
    <!-- Sidebar will be loaded here -->
    <div id="sidebar-container"></div>

    <div class="ml-64 w-[calc(100%-256px)] h-screen overflow-y-auto">
        <div class="px-4 sm:px-8 flex flex-1 py-5">
            <div class="layout-content-container flex flex-col w-full flex-1 gap-8">
                <!-- Header Section -->
                <div class="flex flex-col gap-6">
                    <!-- Page Heading -->
                    <div class="flex flex-wrap justify-between gap-3 items-center">
                        <h1
                            class="text-gray-900 dark:text-gray-50 text-3xl font-bold leading-tight tracking-tight mt-4">
                            Tạo Phiếu Đánh Giá Năng Lực
                        </h1>
                    </div>
                </div>
                <!-- Employee Selection & Info Section -->
                <div
                    class="flex flex-col gap-6 p-6 bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-gray-700">
                    <h2 class="text-xl font-bold text-gray-900 dark:text-white">Thông tin nhân viên</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Text Field for Employee Search -->
                        <div class="flex flex-col">
                            <label class="text-[#0e121b] dark:text-white text-base font-medium leading-normal pb-2"
                                for="employee-select">Nhân viên</label>
                            <select
                                class="form-select w-full min-w-0 resize-none overflow-hidden rounded-lg text-[#0e121b] focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#d0d7e7] dark:border-gray-600 bg-background-light dark:bg-gray-800 dark:text-white focus:border-primary dark:focus:border-primary h-14 placeholder:text-[#4e6797] p-[15px] text-base font-normal leading-normal"
                                id="employee-select">
                                <option value="">Gõ tên hoặc mã nhân viên để tìm kiếm</option>
                                <option value="an_nguyen">Nguyễn Văn An</option>
                                <option value="binh_le">Lê Thị Bình</option>
                                <option value="chau_tran">Trần Minh Châu</option>
                            </select>
                        </div>
                        <!-- Employee Info Card -->
                        <div
                            class="flex items-center justify-between gap-4 rounded-lg bg-background-light dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-700">
                            <div class="flex flex-col gap-1 flex-[2_2_0px]">
                                <p class="text-[#0e121b] dark:text-white text-base font-bold leading-tight">
                                    Nguyễn Văn An</p>
                                <p class="text-[#4e6797] dark:text-gray-400 text-sm font-normal leading-normal">
                                    Vị trí: Nhân viên bán hàng</p>
                                <p class="text-[#4e6797] dark:text-gray-400 text-sm font-normal leading-normal">
                                    Cửa hàng: SGH-01</p>
                            </div>
                            <div class="w-16 h-16 bg-center bg-no-repeat bg-cover rounded-full flex-shrink-0"
                                data-alt="Profile picture of Nguyen Van An"
                                style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuB2z6F607q23p8zsh_U6qHRId8odWBBdSTb61IMOk9iheg9Ss9IOMjI8n1i88y0YmaKWR7YjyVsJXUEE-YLMOpHT_Ty93D8UMZ2CjfyPXs-YP_wOZVnziHxlY2EaIkHQeEetuoRXx4orVPXVn2WEYJdOkIHWnXVL-K9l8f44QSBWvI150fYDEIGKe79v5lkjjQhK3VdSHdWEWOqdCLnOBUMnc992xleMohiOijdWqhg_Xk97qcXvdV2Y9hBUzI3XHzaCOmGbmAGIBZt");'>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Competencies Section -->
                <div class="flex flex-col gap-6" id="competencies-container">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Đánh giá Năng lực</h2>
                    <div class="competencies-form flex flex-col gap-4">
                        <!-- Will be populated by assessment-form.js -->
                        <p class="text-gray-500 dark:text-gray-400 text-center py-8">Chọn nhân viên để bắt đầu đánh giá</p>
                    </div>
                </div>
                <!-- Action Buttons Bar -->
                <div
                    class="sticky bottom-0 mt-4 py-4 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700">
                    <div class="flex flex-wrap justify-end gap-3">
                        <button onclick="window.location.href='nhan-vien.html'"
                            class="px-6 py-3 rounded-lg text-primary dark:text-primary-light font-semibold hover:bg-primary/10 transition-colors">Hủy</button>
                        <button
                            class="px-6 py-3 rounded-lg text-primary dark:text-primary-light font-semibold border border-primary hover:bg-primary/10 transition-colors">Xem
                            trước</button>
                        <button
                            class="px-6 py-3 rounded-lg bg-primary text-white font-semibold hover:bg-primary/90 transition-colors shadow">Lưu</button>
                    </div>
                </div>
            </div>

            <script>
                // Load sidebar from sidebar.html
                fetch('sidebar.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('sidebar-container').innerHTML = html;
                        
                        // Highlight active page AFTER sidebar is loaded
                        setTimeout(() => {
                            const currentPage = document.body.getAttribute('data-page');
                            const navLinks = document.querySelectorAll('.nav-link');
                            
                            navLinks.forEach(link => {
                                link.classList.remove('bg-primary/10', 'text-primary', 'dark:text-white', 'dark:bg-primary/30', 'font-bold');
                                if (link.getAttribute('data-page') === currentPage) {
                                    link.classList.add('bg-primary/10', 'text-primary', 'dark:text-white', 'dark:bg-primary/30', 'font-bold');
                                }
                            });
                        }, 50);
                    });
            </script>
            <script src="auth.js"></script>
        </div>
</body>

</html>